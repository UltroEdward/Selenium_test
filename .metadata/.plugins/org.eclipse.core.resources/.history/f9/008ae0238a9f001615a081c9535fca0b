package com.manahealth.sv.ui.tests.testcases.tests;

import org.openqa.selenium.WebDriver;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Parameters;

import com.manahealth.sv.ui.tests.framework.driver.Context;
import com.manahealth.sv.ui.tests.framework.driver.DriverFactory;
import com.manahealth.sv.ui.tests.framework.driver.DriverType;

public class BaseTest {

	protected WebDriver driver = null;
	protected Context context = null;

	@AfterMethod(alwaysRun = true)
	public void tearDown() {
		DriverFactory.quitWebDriver(driver);
	}

	@BeforeMethod(alwaysRun = true)
	public void startUp() {
		driver = DriverFactory.getWebDriver(context.getDriver());
	}

	@Parameters({ "BASE_URL", "USERNAME", "PASSWORD", "DRIVER" })
	@BeforeClass
	public void setUpContext(String baseUrl, String username, String password, String driver) {
		context = new Context();
		context.setBaseUrl(baseUrl);
		context.setDriver(DriverType.valueOf(driver));
		context.setUsername(username);
		context.setPassword(password);
	}
}
